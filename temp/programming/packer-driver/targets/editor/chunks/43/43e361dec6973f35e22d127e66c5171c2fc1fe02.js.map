{"version":3,"sources":["file:///F:/ACode/CocosCode/ECS_Demo/assets/src/ecs/systems/AutoDestroySystem.ts"],"names":["AutoDestroySystem","AutoDestroyComponent","SystemType","world","type","LogicAfterPhysics","onUpdate","forEach","entity","autoDestroy","lifeTime","maxLifeTime","console","log","markDestroy"],"mappings":";;;gEAMqBA,iB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AANdC,MAAAA,oB;;AACEC,MAAAA,U,iBAAAA,U;;;;;;;yBAKYF,iB,GAAN,MAAMA,iBAAN,CAA0C;AAAA;AAAA,eACrDG,KADqD;AAAA,eAGrDC,IAHqD,GAGlC;AAAA;AAAA,wCAAWC,iBAHuB;AAAA;;AAKrDC,QAAAA,QAAQ,GAAS;AACb,eAAKH,KAAL,CAAWI,OAAX,CAAmB;AAAA;AAAA,2DAAnB,EAA2C,CAACC,MAAD,EAAiBC,WAAjB,KAAuD;AAC9FA,YAAAA,WAAW,CAACC,QAAZ;;AAEA,gBAAID,WAAW,CAACC,QAAZ,GAAuBD,WAAW,CAACE,WAAvC,EAAoD;AAChDC,cAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAL,cAAAA,MAAM,CAACM,WAAP;AACH;AACJ,WAPD;AAQH;;AAdoD,O","sourcesContent":["import AutoDestroyComponent from \"../components/AutoDestroyComponent\";\r\nimport { SystemType } from \"../framework/ECSConfig\";\r\nimport Entity from \"../framework/Entity\";\r\nimport System from \"../framework/System\";\r\nimport World from \"../framework/World\";\r\n\r\nexport default class AutoDestroySystem implements System {\r\n    world: World;\r\n\r\n    type: SystemType = SystemType.LogicAfterPhysics;\r\n\r\n    onUpdate(): void {\r\n        this.world.forEach([AutoDestroyComponent], (entity: Entity, autoDestroy: AutoDestroyComponent) => {\r\n            autoDestroy.lifeTime++;\r\n\r\n            if (autoDestroy.lifeTime > autoDestroy.maxLifeTime) {\r\n                console.log('auto destroy entity');\r\n                entity.markDestroy();\r\n            }\r\n        });\r\n    }\r\n\r\n}"]}